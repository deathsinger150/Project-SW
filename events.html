<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Participate in Events</title>
    <style>
        /* Background Styling */
        body {
            background-color: rgb(140, 140, 147); /* Blue background color */
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
        }

        /* Header Styling */
        header {
            background-color: rgba(0, 0, 0, 0.7); /* Transparent background */
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            margin: 20px auto;
            max-width: 80%;
        }

        /* Back to Student Button */
        .back-button {
            display: flex;
            align-items: center;
            margin: 10px 20px;
            font-size: 1rem;
            text-decoration: none;
            color: white;
            background-color: rgba(0, 0, 0, 0.7); /* Transparent button background */
            padding: 10px 15px;
            border-radius: 8px;
            transition: background-color 0.3s;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            width: fit-content;
        }

        .back-button:hover {
            background-color: #ffcc00;
            color: black;
        }

        .back-button img {
            width: 20px;
            margin-right: 8px;
        }

        /* Event Container */
        .event-container {
            max-width: 900px;
            margin: 30px auto;
            padding: 20px;
        }

        /* Event Card Styling */
        .event-card {
            background-color: rgba(0, 0, 0, 0.7); /* Transparent background */
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5); /* Darker shadow for better contrast */
            transition: transform 0.3s, box-shadow 0.3s;
            color: white; /* Text color for transparent cards */
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.7);
        }

        /* Event Header Styling */
        .event-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .profile-pic {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin-right: 15px;
            border: 2px solid #ffcc00;
        }

        .club-info {
            display: flex;
            flex-direction: column;
        }

        .club-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffcc00;
        }

        .publish-date, .time-elapsed {
            font-size: 0.9rem;
            color: #ddd;
        }

        /* Event Body Styling */
        .event-body h2 {
            font-size: 1.8rem;
            color: #ffcc00;
            text-align: center;
        }

        .event-body p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-top: 10px;
            color: #eee;
            text-align: justify;
        }

        /* Enhanced Event Info Styling */
        .event-info .location,
        .event-info .time,
        .event-info .sponsors {
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .event-info i {
            margin-right: 10px;
            color: #ffcc00;
            font-size: 1.3rem; /* Larger icon size */
        }

        .event-info .location {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 8px;
            font-size: 1.2rem; /* Increased font size */
            font-weight: bold; /* Make it stand out */
            color: #ffcc00; /* Yellow text for location */
        }

        .event-info .time {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 8px;
            font-size: 1.2rem; /* Increased font size */
            font-weight: bold; /* Make it stand out */
            color: #ffcc00; /* Yellow text for time */
        }

        .event-info .sponsors {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 8px;
            font-size: 1.2rem; /* Increased font size */
            font-weight: bold; /* Make it stand out */
            color: #ffcc00; /* Yellow text for sponsors */
        }

        /* React Section Styling */
        .react-section {
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
            border-top: 1px solid #ddd;
            padding-top: 15px;
        }

        .react-button {
            display: flex;
            align-items: center;
            cursor: pointer;
            color: #ffcc00;
            font-size: 1rem;
            transition: color 0.3s;
        }

        .react-button:hover {
            color: #ffcc00;
        }

        .react-button img {
            width: 20px;
            margin-right: 8px;
        }

        /* Footer Styling */
        footer {
            background-color: rgba(0, 0, 0, 0.7); /* Transparent footer */
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 1rem;
            margin-top: 20px;
        }

        /* Styling for active participation */
        .active-participate .participate-text {
            color: #00ff00; /* Green text when participated */
            font-weight: bold;
        }

        .active-participate .participate-count {
            color: #00ff00;
        }

        .active-participate .participate-icon {
            filter: hue-rotate(90deg); /* Change icon color when participated */
        }

        /* No background color change for location, time, and sponsors */
        .active-participate .location,
        .active-participate .time,
        .active-participate .sponsors {
            color: #00ff00; /* Green text when participated */
        }
        
    </style>
</head>
<body>

    <a href="{% url 'student' %}" class="back-button">
    <img src="https://cdn-icons-png.flaticon.com/512/860/860790.png" alt="Back Icon">
    Back to Student
</a>

<header>Participate in Events</header>

<div class="event-container">

    <!-- ICPC Event -->
    <div class="event-card">
        <div class="event-header">
            <img class="profile-pic" src="https://nu.edu.eg/sites/default/files/2022-05/nuicpc.png" alt="ICPC Club">
            <div class="club-info">
                <span class="club-name">ICPC NU</span>
                <span class="publish-date" id="publish-date-1"></span>
                <span class="time-elapsed" id="Since-1"></span>
            </div>
        </div>
        <div class="event-body">
            <h2>ICPC Orientation Party</h2>
            <p>The ICPC NU is hosting an orientation party on Wednesday 25th, December, at 5 PM in NU auditorium. These sessions start with teaching basic programming skills and coding languages, progressing to advanced algorithms and solving approaches.</p>
        </div>
        <div class="event-info">
            <div class="location">
                <i class="fas fa-map-marker-alt"></i> Location: NU Auditorium
            </div>
            <div class="time">
                <i class="fas fa-clock"></i> Time: Wednesday, 25th December, 5 PM
            </div>
            <div class="sponsors">
                <i class="fas fa-handshake"></i> Sponsors: Redbull, GUGs
            </div>
        </div>
        <div class="react-section">
            <div class="react-button" onclick="toggleLike(this)">
                <img src="https://cdn-icons-png.flaticon.com/512/889/889140.png" alt="Like" class="like-icon">
                <span class="like-text">Like</span>
                <span class="like-count" style="margin-left: 5px;">0</span>
            </div>
            <div class="react-button participate-button" onclick="toggleParticipate(this)">
                <img src="https://cdn-icons-png.flaticon.com/512/3603/3603712.png" alt="Participate" class="participate-icon">
                <span class="participate-text">Participate</span>
                <span class="participate-count" style="margin-left: 5px;">0</span>
            </div>
        </div>
    </div>

    <!-- RPM Event -->
    <div class="event-card">
        <div class="event-header">
            <img class="profile-pic" src="https://via.placeholder.com/60" alt="RPM Club">
            <div class="club-info">
                <span class="club-name">RPM Club</span>
                <span class="publish-date" id="publish-date-2"></span>
                <span class="time-elapsed" id="Since-2"></span>
            </div>
        </div>
        <div class="event-body">
            <h2>RPM First Place!üì£</h2>
            <p>Nile University RPM team ‚ÄúRPMUS‚Äù won first place in the finals of the third season of the Electric Vehicle Rally (EVER) Egypt competition and won the grand prize of 300,000 EGP after a strong competition that included 19 Egyptian teams! üí°ü§ù</p>
        </div>
        <div class="event-info">
            <div class="location">
                <i class="fas fa-map-marker-alt"></i> Location: El-Alamein, Egypt
            </div>
            <div class="time">
                <i class="fas fa-clock"></i> Time: December 17, 2024, 3 PM
            </div>
            <div class="sponsors">
                <i class="fas fa-handshake"></i> Sponsors: SharkTank, Pepsi
            </div>
        </div>
        <div class="react-section">
            <div class="react-button" onclick="toggleLike(this)">
                <img src="https://cdn-icons-png.flaticon.com/512/889/889140.png" alt="Like" class="like-icon">
                <span class="like-text">Like</span>
                <span class="like-count" style="margin-left: 5px;">0</span>
            </div>
            <div class="react-button participate-button" onclick="toggleParticipate(this)">
                <img src="https://cdn-icons-png.flaticon.com/512/3603/3603712.png" alt="Participate" class="participate-icon">
                <span class="participate-text">Participate</span>
                <span class="participate-count" style="margin-left: 5px;">0</span>
            </div>
        </div>
    </div>

    <!-- GDG Event -->
     <div class="event-card">
        <div class="event-header">
            <img class="profile-pic" src="https://nu.edu.eg/sites/default/files/2022-05/dsc.png" alt="GDG Club">
            <div class="club-info">
                <span class="club-name">GDG NU</span>
                <span class="publish-date" id="publish-date-3"></span>
                <span class="time-elapsed" id="Since-3"></span>
            </div>
        </div>
        <div class="event-body">
            <h2>GDG C-Programming Workshop</h2>
            <p>The Google Developer Group (GDG) at Nile University recently held a successful C-programming workshop in collaboration with D-BUGERZ Academy, fostering learning and skill development! üåü</p>
        </div>
        <div class="event-info">
            <div class="location">
                <i class="fas fa-map-marker-alt"></i> Location: NU, Giza
            </div>
            <div class="time">
                <i class="fas fa-clock"></i> Time: February 7, 2024, 10 AM
            </div>
            <div class="sponsors">
                <i class="fas fa-handshake"></i> Sponsors: Blaban, Wahmy, D-BUGERZ Academy
            </div>
        </div>
        <div class="react-section">
            <div class="react-button" onclick="toggleLike(this)">
                <img src="https://cdn-icons-png.flaticon.com/512/889/889140.png" alt="Like" class="like-icon">
                <span class="like-text">Like</span>
                <span class="like-count" style="margin-left: 5px;">0</span>
            </div>
            <div class="react-button participate-button" onclick="toggleParticipate(this)">
                <img src="https://cdn-icons-png.flaticon.com/512/3603/3603712.png" alt="Participate" class="participate-icon">
                <span class="participate-text">Participate</span>
                <span class="participate-count" style="margin-left: 5px;">0</span>
            </div>
        </div>
    </div>


</div>

<footer>Copyrights ¬© 2024 NUSC. All Rights Reserved.</footer>

<script>
    // Function to calculate time since the post was published
    function calculateTimeSince(dateString) {
        const postDate = new Date(dateString);
        const now = new Date();
        const diff = Math.abs(now - postDate);
        const minutes = Math.floor(diff / 1000 / 60);
        const hours = Math.floor(minutes / 60);
        const days = Math.floor(hours / 24);

        if (days > 0) return `${days} day(s) ago`;
        if (hours > 0) return `${hours} hour(s) ago`;
        return `${minutes} minute(s) ago`;
    }

    // Function to toggle like/unlike
    function toggleLike(button) {
        const likeIcon = button.querySelector('.like-icon');
        const likeText = button.querySelector('.like-text');
        const likeCount = button.querySelector('.like-count');
        let count = parseInt(likeCount.textContent);

        if (likeText.textContent === 'Like') {
            likeText.textContent = 'Unlike';
            likeIcon.src = 'https://cdn-icons-png.flaticon.com/512/2107/2107845.png'; // Heart icon
            likeCount.textContent = count + 1;
        } else {
            likeText.textContent = 'Like';
            likeIcon.src = 'https://cdn-icons-png.flaticon.com/512/889/889140.png'; // Default icon
            likeCount.textContent = count - 1;
        }
    }

    // Function to toggle participate/unparticipate
    function toggleParticipate(button) {
        const participateText = button.querySelector('.participate-text');
        const participateCount = button.querySelector('.participate-count');
        let count = parseInt(participateCount.textContent);

        if (participateText.textContent === 'Participate') {
            participateText.textContent = 'Unparticipate';
            participateCount.textContent = count + 1;
            button.closest('.event-card').classList.add('active-participate');
            button.querySelector('.participate-icon').src = 'https://cdn-icons-png.flaticon.com/512/892/892519.png'; // Changed icon
        } else {
            participateText.textContent = 'Participate';
            participateCount.textContent = count - 1;
            button.closest('.event-card').classList.remove('active-participate');
            button.querySelector('.participate-icon').src = 'https://cdn-icons-png.flaticon.com/512/3603/3603712.png'; // Default icon
        }
    }

    // Set publish dates and time elapsed dynamically
    const events = [
    { publishDate: '2024-12-16T12:00:00', publishId: 'publish-date-1', elapsedId: 'Since-1' },
    { publishDate: '2024-12-14T10:00:00', publishId: 'publish-date-2', elapsedId: 'Since-2' },
    { publishDate: '2024-12-02T08:00:00', publishId: 'publish-date-3', elapsedId: 'Since-3' }
];

    events.forEach(event => {
        const publishDate = new Date(event.publishDate).toLocaleString();
        document.getElementById(event.publishId).textContent = `Published on: ${publishDate}`;
        document.getElementById(event.elapsedId).textContent = `Since: ${calculateTimeSince(event.publishDate)}`;
    });
</script>

</body>
</html>
